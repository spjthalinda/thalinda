"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkTimeString = void 0;
const debug_1 = require("../../debug");
const token_1 = require("../../token");
const datetime_tokens_1 = require("./datetime-tokens");
/**
 * @see https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#times
 */
const checkTimeString = () => function checkTimeString(value) {
    (0, debug_1.log)('CHECK: time-string');
    const tokens = token_1.TokenCollection.fromPatterns(value, [
        // hh
        /[^:]*/,
        // :
        /[^0-9]?/,
        // mm
        /[^:]*/,
        // :
        /[^0-9]?/,
        // ss
        /[^.]*/,
        // .
        /[^0-9]?/,
        // sss
        /.[0-9]*/,
    ]);
    (0, debug_1.log)('Time: "%s" => %O', tokens.value, tokens);
    const res = tokens.eachCheck(datetime_tokens_1.datetimeTokenCheck.hour, datetime_tokens_1.datetimeTokenCheck.coron, datetime_tokens_1.datetimeTokenCheck.minute, datetime_tokens_1.datetimeTokenCheck.coronOrEnd, datetime_tokens_1.datetimeTokenCheck.second, datetime_tokens_1.datetimeTokenCheck.decimalPointOrEnd, datetime_tokens_1.datetimeTokenCheck.secondFractionalPart);
    if (!res.matched) {
        (0, debug_1.log)('Failed: %O', res);
    }
    return res;
};
exports.checkTimeString = checkTimeString;
