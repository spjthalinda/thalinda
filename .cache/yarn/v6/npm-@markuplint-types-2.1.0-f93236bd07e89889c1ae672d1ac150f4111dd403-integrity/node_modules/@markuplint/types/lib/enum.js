"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkEnum = void 0;
const match_result_1 = require("./match-result");
function checkEnum(value, type, ref) {
    var _a, _b;
    const disallowToSurroundBySpaces = (_a = type.disallowToSurroundBySpaces) !== null && _a !== void 0 ? _a : true;
    const caseInsensitive = (_b = type.caseInsensitive) !== null && _b !== void 0 ? _b : true;
    if (!disallowToSurroundBySpaces) {
        value = value.trim();
    }
    let values = type.enum;
    if (caseInsensitive) {
        value = value.toLowerCase();
        values = type.enum.map(v => v.toLowerCase());
    }
    const res = values.includes(value);
    if (res) {
        return (0, match_result_1.matched)();
    }
    return (0, match_result_1.unmatched)(value, 'doesnt-exist-in-enum', {
        ref,
        expects: type.enum.map(value => ({ type: 'const', value })),
    });
}
exports.checkEnum = checkEnum;
