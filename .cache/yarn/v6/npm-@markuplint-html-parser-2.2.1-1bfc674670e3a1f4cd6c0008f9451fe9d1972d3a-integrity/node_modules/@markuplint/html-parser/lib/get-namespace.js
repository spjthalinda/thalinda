"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getNamespace = void 0;
const parse5_1 = require("parse5");
const DEFAULT_NAMESPACE = 'http://www.w3.org/1999/xhtml';
function getNamespace(tagName, parentNamespace = DEFAULT_NAMESPACE) {
    switch (parentNamespace) {
        case 'http://www.w3.org/2000/svg':
        case 'http://www.w3.org/1998/Math/MathML': {
            const parent = parentNamespace === 'http://www.w3.org/2000/svg' ? 'svg' : 'math';
            const tag = `<${parent}><${tagName}></${parent}>`;
            const frag = (0, parse5_1.parseFragment)(tag);
            const node = frag.childNodes[0];
            if (!node) {
                return DEFAULT_NAMESPACE;
            }
            if ('namespaceURI' in node) {
                return node.namespaceURI;
            }
            return DEFAULT_NAMESPACE;
        }
    }
    const tag = `<${tagName}>`;
    const frag = (0, parse5_1.parseFragment)(tag);
    let node = frag.childNodes[0];
    if (!node) {
        const doc = (0, parse5_1.parse)(tag);
        node = doc.childNodes[0];
    }
    if ('namespaceURI' in node) {
        return node.namespaceURI;
    }
    return DEFAULT_NAMESPACE;
}
exports.getNamespace = getNamespace;
