"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const html_spec_1 = tslib_1.__importDefault(require("@markuplint/html-spec"));
const ml_core_1 = require("@markuplint/ml-core");
const ml_spec_1 = require("@markuplint/ml-spec");
exports.default = (0, ml_core_1.createRule)({
    async verify({ document, report, t }) {
        await document.walkOn('Element', el => {
            const ns = el.ns;
            if (!(ns === 'html' || ns === 'svg') || el.isCustomElement) {
                return;
            }
            const spec = (0, ml_spec_1.getSpecByTagName)(el.nameWithNS, html_spec_1.default);
            if (spec && (spec.obsolete || spec.deprecated || spec.nonStandard)) {
                const message = t('{0} is {1:c}', t('the "{0*}" {1}', el.nodeName, 'element'), spec.deprecated ? 'deprecated' : spec.obsolete ? 'obsolete' : 'non-standard');
                report({
                    scope: el,
                    message,
                });
            }
        });
    },
});
