"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ml_core_1 = require("@markuplint/ml-core");
exports.default = (0, ml_core_1.createRule)({
    defaultValue: 'always',
    defaultOptions: {
        denyObsolateType: true,
    },
    verify(context) {
        if (context.document.isFragment) {
            return;
        }
        const doctype = context.document.doctype;
        if (!doctype) {
            context.report({
                message: context.translate('Require {0}', 'doctype'),
                line: 1,
                col: 1,
                raw: '',
            });
            return;
        }
        if ((doctype.name.toLowerCase() === 'html' && doctype.publicId) || doctype.systemId) {
            context.report({
                scope: doctype,
                message: context.translate('Never {0} {1}', 'declarate', 'obsolete doctype'),
            });
        }
    },
});
